<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>autoFormly by wieldo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">autoFormly</h1>
      <h2 class="project-tagline">Create angular-formly forms with automatic insert and update, and automatic reactive validation. Requires SimpleSchema or Collection2</h2>
      <a href="https://github.com/wieldo/meteor-autoformly" class="btn">View on GitHub</a>
      <a href="https://github.com/wieldo/meteor-autoformly/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/wieldo/meteor-autoformly/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="autoformly" class="anchor" href="#autoformly" aria-hidden="true"><span class="octicon octicon-link"></span></a>AutoFormly</h1>

<p><a href="https://badge.fury.io/gh/wieldo%2Fmeteor-autoformly"><img src="https://badge.fury.io/gh/wieldo%2Fmeteor-autoformly.svg" alt="GitHub version"></a>
<a href="https://travis-ci.org/wieldo/meteor-autoformly"><img src="https://travis-ci.org/wieldo/meteor-autoformly.svg" alt="Build Status"></a> 
<a href="https://gitter.im/wieldo/meteor-autoformly?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Gitter"></a>
<a href="https://coveralls.io/github/wieldo/meteor-autoformly?branch=master"><img src="https://coveralls.io/repos/wieldo/meteor-autoformly/badge.svg?branch=master&amp;service=github" alt="Coverage Status"></a>
<a href="https://www.codacy.com/app/mys-sterowiec/meteor-autoformly"><img src="https://api.codacy.com/project/badge/grade/b55750daf3c6417caf63154da85a9eae" alt="Codacy Badge"></a></p>

<p>Create <a href="http://angular-formly.com">Angular-Formly</a> forms with automatic insert and update, and automatic reactive validation. Requires <a href="http://github.com/aldeed/meteor-simple-schema">SimpleSchema</a> or <a href="http://github.com/aldeed/meteor-collection2">Collection2</a>.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<pre><code>meteor add wieldo:autoformly
</code></pre>

<h2>
<a id="how-to-use-it" class="anchor" href="#how-to-use-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use it</h2>

<h3>
<a id="auto-formly-component" class="anchor" href="#auto-formly-component" aria-hidden="true"><span class="octicon octicon-link"></span></a>auto-formly component</h3>

<p>To insert or update collection</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">auto</span><span class="pl-e">-formly</span>
    <span class="pl-e">collection</span>=<span class="pl-s"><span class="pl-pds">"</span>vm.booksCollection<span class="pl-pds">"</span></span>
    <span class="pl-e">doc</span>=<span class="pl-s"><span class="pl-pds">"</span>vm.book<span class="pl-pds">"</span></span>
    <span class="pl-e">options</span>=<span class="pl-s"><span class="pl-pds">"</span>vm.options<span class="pl-pds">"</span></span>
    <span class="pl-e">on-success</span>=<span class="pl-s"><span class="pl-pds">"</span>vm.onSuccess<span class="pl-pds">"</span></span>
    <span class="pl-e">on-error</span>=<span class="pl-s"><span class="pl-pds">"</span>vm.onError<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>submit<span class="pl-pds">"</span></span>&gt;Update&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">auto</span><span class="pl-e">-formly</span>&gt;</pre></div>

<ul>
<li>
<strong>collection</strong> Mongo.Collection object</li>
<li>
<strong>doc</strong> document from collection (optional)</li>
<li>
<strong>options</strong> same object as in autoFormly.collection (to custom configuration and filtering) (optional)</li>
<li>
<strong>onSuccess</strong> callback with result of action as argument (optional)</li>
<li>
<strong>onError</strong> callback with error as argument (false if form contains errors on client-side) (optional)</li>
</ul>

<h3>
<a id="convert-all-schema-fields" class="anchor" href="#convert-all-schema-fields" aria-hidden="true"><span class="octicon octicon-link"></span></a>Convert all schema fields</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">collection</span>(BooksCollection);
<span class="pl-c">// or</span>
<span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">collection</span>($<span class="pl-smi">meteor</span>.<span class="pl-en">collection</span>(BooksCollection);
<span class="pl-c">// or</span>
<span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">schema</span>(BooksSchema);</pre></div>

<h3>
<a id="save-object-to-collection-with-validation-error-handling" class="anchor" href="#save-object-to-collection-with-validation-error-handling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save object to collection with validation error handling</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">collection</span>(BooksCollection);

<span class="pl-k">function</span> <span class="pl-en">submit</span>(<span class="pl-smi">book</span>) {
    $<span class="pl-smi">meteor</span>.<span class="pl-en">collection</span>(BooksCollection)
        .<span class="pl-en">save</span>(book)
        .<span class="pl-en">then</span>(() <span class="pl-k">=&gt;</span> {
            <span class="pl-c">// success</span>
        })
        .<span class="pl-en">catch</span>(() <span class="pl-k">=&gt;</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">errors</span>(BooksCollection, fields);
}</pre></div>

<h3>
<a id="convert-all-schema-fields-excluding-one" class="anchor" href="#convert-all-schema-fields-excluding-one" aria-hidden="true"><span class="octicon octicon-link"></span></a>Convert all schema fields excluding one</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">schema</span>(BooksSchema, {
    fields<span class="pl-k">:</span> {
        published<span class="pl-k">:</span> <span class="pl-c1">false</span>
    }
});</pre></div>

<h3>
<a id="convert-selected-collection-fields" class="anchor" href="#convert-selected-collection-fields" aria-hidden="true"><span class="octicon octicon-link"></span></a>Convert selected collection fields</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">collection</span>(BooksCollection, {
    all<span class="pl-k">:</span> <span class="pl-c1">false</span>,
    fields<span class="pl-k">:</span> {
        published<span class="pl-k">:</span> <span class="pl-c1">true</span>,
        author<span class="pl-k">:</span> <span class="pl-c1">true</span>,
        title<span class="pl-k">:</span> <span class="pl-c1">true</span>
    }
});</pre></div>

<h3>
<a id="extend-formly-configuration-for-selected-field" class="anchor" href="#extend-formly-configuration-for-selected-field" aria-hidden="true"><span class="octicon octicon-link"></span></a>Extend formly configuration for selected field</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">fields</span> <span class="pl-k">=</span> <span class="pl-smi">autoFormly</span>.<span class="pl-en">schema</span>(BooksSchema, {
    all<span class="pl-k">:</span> <span class="pl-c1">false</span>,
    fields<span class="pl-k">:</span> {
        published<span class="pl-k">:</span> <span class="pl-c1">true</span>,
        author<span class="pl-k">:</span> {
            templateOptions<span class="pl-k">:</span> {
                label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Written by<span class="pl-pds">"</span></span>
            }
        }
    }
});</pre></div>

<h2>
<a id="what-is-ready" class="anchor" href="#what-is-ready" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is ready?</h2>

<p>See examples above.</p>

<ul>
<li>creating formly fields with validators using collection or schema (autoFormly.collection(), autoFormly.schema())</li>
<li>handling validation errors (autoFormly.errors() sets validation on form fields)</li>
</ul>

<p>Take a look at this docs:</p>

<ul>
<li><a href="docs/auto-formly.md">autoFormly</a></li>
<li><a href="docs/auto-formly-parsers.md">autoFormlyParsers</a></li>
</ul>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>It is a new project, at the beginning of development process.</p>

<p>Feel free to ask me anything.</p>

<h3>
<a id="you-can-help" class="anchor" href="#you-can-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>You can help</h3>

<p>If you would like to add functionality, just fork this repo and create pull request.</p>

<h3>
<a id="how-autoformly-works" class="anchor" href="#how-autoformly-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How autoFormly works</h3>

<p>Basically it parses simpleSchema structure and creates formly configuration for each field.</p>

<p>For example, to mark field as required we can create the parser function to check if <code>optional</code> property is being used.
If <em>opional</em> is not set to <em>true</em> then we're adding <code>required</code> validator from <code>wieldo:angular-formly-validator</code> package 
(see <a href="http://github.com/wieldo/angular-formly-validator">formlyValidator</a> and source code in <a href="lib/client/parsers/validators/required.js">required.js</a>.</p>

<h4>
<a id="what-is-parser" class="anchor" href="#what-is-parser" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is parser?</h4>

<p>Parser is a function that receives simpleSchema key with configuration and reference to formly field configuration object.</p>

<p>So basically, you can add properties to formly configuration by checking field's schema.</p>

<h4>
<a id="helpers" class="anchor" href="#helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Helpers</h4>

<p>We're currently working on three other packages that are very useful in autoFormly.</p>

<ul>
<li>
<a href="http://github.com/wieldo/angular-formly-transformer">formlyTransformer</a> to simplify process of formly field transformation.</li>
<li>
<a href="http://github.com/wieldo/angular-formly-validator">formlyValidator</a> to make validation easier (with built-in validators)</li>
<li>
<a href="http://github.com/wieldo/angular-formly-templates-material">formlyMaterial</a> is a AngularJS module with Angular Material templates to use in angular-formly.</li>
</ul>

<h3>
<a id="roadmap-10" class="anchor" href="#roadmap-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Roadmap 1.0</h3>

<ul>
<li>[x] Extend SimpleSchema to use <code>autoformly</code> property</li>
<li>[x] Add optional manual formly configuration for each field</li>
<li>[x] More advanced field filtering (show all / hide all / add excluding)</li>
<li>[x] <code>schema.key</code> as <code>formly.key</code>
</li>
<li>[x] <code>schema.label</code> as <code>formly.templateOptions.label</code>
</li>
<li>[x] <code>schema.optional</code> and required validator</li>
<li>[x] <code>schema.max</code> for <strong><em>String</em></strong> and <strong><em>Number</em></strong> types as <strong>maxlength</strong> and <strong>maxnumber</strong> validator</li>
<li>[x] <code>schema.min</code> for <strong><em>String</em></strong> and <strong><em>Number</em></strong> types as <strong>minlength</strong> and <strong>minnumber</strong> validator</li>
<li>[x] <code>schema.regEx</code> as <strong>pattern</strong> validator</li>
<li>[x] <code>schema.defaultValue</code> as <code>formly.defaultValue</code>
</li>
<li>[x] <code>schema.autoformly.templateOptions.rows</code> to be displayed as textarea</li>
<li>[x] <strong><em>Boolean</em></strong> type as checkbox</li>
<li>[x] <code>schema.autoformly.type</code> to be <code>formly.type</code>
</li>
<li>[x] <code>schema.allowedValues</code> as select element (schema type is a String) </li>
<li>[ ] <code>schema.minCount</code> and <code>schema.maxCount</code> support</li>
<li>[ ] Support for <strong><em>array of objects</em></strong>
</li>
<li>[ ] Support for <strong><em>Object</em></strong> type fields</li>
<li>[x] Support for server-side validation errors (like <em>unique</em>)</li>
<li>[x] Component to automate process of insertion or collection update</li>
<li>[ ] Interactive <strong>demo</strong>
</li>
</ul>

<h2>
<a id="contact" class="anchor" href="#contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact</h2>

<p>You can find me on <a href="https://gitter.im/wieldo/meteor-autoformly">Gitter</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/wieldo/meteor-autoformly">autoFormly</a> is maintained by <a href="https://github.com/wieldo">wieldo</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-69932737-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
